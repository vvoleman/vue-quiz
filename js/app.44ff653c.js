(function(){"use strict";var e={4581:function(e,t,n){var s=n(9242),o=n(3396);function r(e,t,n,s,r,i){const u=(0,o.up)("StatsPage"),a=(0,o.up)("FileSelect"),l=(0,o.up)("QuizPage");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(u,{questions:r.questions},null,8,["questions"]),(0,o.Wm)(a,{onLoaded:i.loadData},null,8,["onLoaded"]),r.loaded?((0,o.wg)(),(0,o.j4)(l,{key:0,questions:r.questions},null,8,["questions"])):(0,o.kq)("",!0)],64)}const i=e=>((0,o.dD)("data-v-fd791f80"),e=e(),(0,o.Cn)(),e),u={class:"file-select card card--animated card--file-select"},a={class:"first card__body"},l=i((()=>(0,o._)("span",{class:"card__title"},"Vyberte soubor s daty",-1))),c={class:"card__input"};function d(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",a,[l,(0,o._)("div",c,[(0,o._)("input",{type:"file",ref:"file",onChange:t[0]||(t[0]=(...e)=>i.change&&i.change(...e))},null,544)])]),r.isLoaded?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>i.load&&i.load(...e)),class:"loadBtn btn"},"Načíst")):(0,o.kq)("",!0)])}var h={name:"FileSelect",data(){return{isLoaded:!1}},methods:{change(){const e=this.$refs.file.files[0];this.isLoaded=null!==e},load(){const e=this.$refs.file.files[0],t=new FileReader;t.onload=e=>{const t=JSON.parse(e.target.result);this.$emit("loaded",t)},t.onerror=e=>alert(e),t.readAsText(e)}}},f=n(89);const g=(0,f.Z)(h,[["render",d],["__scopeId","data-v-fd791f80"]]);var p=g,w=n(7139);const v=e=>((0,o.dD)("data-v-bc493dbc"),e=e(),(0,o.Cn)(),e),m={class:"settings card card--settings"},y=v((()=>(0,o._)("label",{for:""},"Počet otázek",-1))),b={style:{display:"flex","align-items":"baseline","justify-content":"center"}},q=v((()=>(0,o._)("label",{for:"randomQuestions",style:{"margin-right":"5px"}},"Řadit náhodně otázky?",-1))),_={style:{display:"flex","align-items":"baseline","justify-content":"center"}},k=v((()=>(0,o._)("label",{for:"randomCorrects",style:{"margin-right":"5px"}},"Řadit náhodně odpovědi?",-1)));function Q(e,t,n,r,i,u){const a=(0,o.up)("QuestionBrowser"),l=(0,o.up)("ResultsPage");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",m,[(0,o._)("h3",null,"Načteno "+(0,w.zw)(n.questions.length)+" otázek",1),(0,o._)("div",null,[y,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>i.numberOfQuestions=e)},null,512),[[s.nr,i.numberOfQuestions]])]),(0,o._)("div",b,[q,(0,o.wy)((0,o._)("input",{id:"randomQuestions",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>i.sortRandomQuestions=e)},null,512),[[s.e8,i.sortRandomQuestions]])]),(0,o._)("div",_,[k,(0,o.wy)((0,o._)("input",{id:"randomCorrects",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>i.sortRandomCorrects=e)},null,512),[[s.e8,i.sortRandomCorrects]])]),i.running?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>u.run&&u.run(...e)),class:"btn btn--run"},"Spustit")),i.running?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[4]||(t[4]=(...e)=>u.solve&&u.solve(...e)),class:"btn btn--solve"},"Vyhodnotit")):(0,o.kq)("",!0),i.running?((0,o.wg)(),(0,o.iD)("button",{key:2,onClick:t[5]||(t[5]=(...e)=>u.restart&&u.restart(...e)),class:"btn btn--restart"},"Restartovat")):(0,o.kq)("",!0)]),i.running?((0,o.wg)(),(0,o.j4)(a,{key:0,questions:i.runQuestions,onAnswer:u.setAnswers},null,8,["questions","onAnswer"])):(0,o.kq)("",!0),i.solved?((0,o.wg)(),(0,o.j4)(l,{key:1,questions:i.runQuestions,answers:i.answers},null,8,["questions","answers"])):(0,o.kq)("",!0)],64)}const D={class:"list"},z=["onClick"],C={class:"question"},O=["id","name","value"],x=["for"];function S(e,t,n,r,i,u){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.questions.length,(e=>((0,o.wg)(),(0,o.iD)("button",{class:(0,w.C_)(["question-box",{active:i.currentQuestion===e-1,"btn btn--answered":null!=i.answers[e-1]}]),key:e,onClick:t=>i.currentQuestion=e-1},[(0,o._)("b",null,(0,w.zw)(e),1)],10,z)))),128))]),(0,o._)("div",C,[(0,o._)("h3",null,(0,w.zw)(u.question.question),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.question.options,((e,n)=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.wy)((0,o._)("input",{id:n,type:"radio",name:i.currentQuestion,value:n,"onUpdate:modelValue":t[0]||(t[0]=e=>i.answers[i.currentQuestion]=e),onChange:t[1]||(t[1]=(...e)=>u.change&&u.change(...e))},null,40,O),[[s.G2,i.answers[i.currentQuestion]]]),(0,o._)("label",{for:n},(0,w.zw)(e),9,x)])))),128))])],64)}var A={name:"QuestionBrowser",props:{questions:Array},data(){return{currentQuestion:0,answers:[]}},computed:{question(){return this.questions[this.currentQuestion]}},unmounted(){document.removeEventListener("keyup",this.nextItem)},mounted(){document.addEventListener("keyup",this.nextItem)},methods:{change(){console.log("f"),this.$emit("answer",this.answers)},nextItem(e){37===e.keyCode?this.currentQuestion-1<0?this.currentQuestion=this.questions.length-1:this.currentQuestion--:39===e.keyCode&&(this.currentQuestion+1>=this.questions.length?this.currentQuestion=0:this.currentQuestion++),console.log(this.currentQuestion)}}};const R=(0,f.Z)(A,[["render",S],["__scopeId","data-v-7f0ddb90"]]);var j=R;const P=e=>((0,o.dD)("data-v-51539168"),e=e(),(0,o.Cn)(),e),I=P((()=>(0,o._)("h2",null,"Výsledky:",-1))),H={key:0},Y=P((()=>(0,o._)("b",null,"(Vaše odpověď) ",-1))),V=[Y];function L(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h2",null,"Váš výsledek je "+(0,w.zw)(i.percentage)+"% ("+(0,w.zw)(i.correctAnswers)+"/"+(0,w.zw)(n.questions.length)+")",1),I,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.questions.length,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o._)("h2",null,"Otázka "+(0,w.zw)(e)+".: "+(0,w.zw)(n.questions[e-1].question),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.questions[e-1].options,((t,s)=>((0,o.wg)(),(0,o.iD)("li",{key:t},[s===n.answers[e-1]?((0,o.wg)(),(0,o.iD)("span",H,V)):(0,o.kq)("",!0),(0,o._)("span",{class:(0,w.C_)({correct:s===n.questions[e-1].correct,incorrect:n.answers[e-1]===s&&n.answers[e-1]!==n.questions[e-1].correct})},(0,w.zw)(t),3)])))),128))])))),128))],64)}var Z={name:"ResultsPage",props:{questions:Array,answers:Array},computed:{correctAnswers(){let e=0;for(let t=0;t<this.questions.length;t++)e+=1*(this.questions[t].correct===this.answers[t]);return e},percentage(){return Math.round(this.correctAnswers/this.questions.length*1e4)/100}}};const N=(0,f.Z)(Z,[["render",L],["__scopeId","data-v-51539168"]]);var F=N,K={name:"QuizPage",components:{ResultsPage:F,QuestionBrowser:j},data(){return{numberOfQuestions:0,sortRandomQuestions:!1,sortRandomCorrects:!1,runQuestions:[],running:!1,answers:[],solved:!1}},props:{questions:Array},methods:{run(){if(this.numberOfQuestions<=0||this.numberOfQuestions>this.questions.length)return;let e=this.questions;this.sortRandomQuestions&&(e=this.shuffle(e)),this.sortRandomCorrects&&e.map((e=>{let t=this.shuffle(e.options),n=e.correct,s=t.indexOf(e.options[n]);return console.log(e),e.options=t,e.correct=s,e})),e=e.slice(0,this.numberOfQuestions),this.runQuestions=e,this.running=!0,this.answers=[],this.solved=!1},shuffle(e){return e.map((e=>({value:e,sort:Math.random()}))).sort(((e,t)=>e.sort-t.sort)).map((({value:e})=>e))},restart(){this.running=!1,this.solved=!1,this.runQuestions=[]},setAnswers(e){this.answers=e},solve(){let e=localStorage.getItem("answered");e=null!==e?JSON.parse(e):{};const t=[];console.log(this.answers);for(let n=0;n<this.runQuestions.length;n++){const s=this.runQuestions[n].question;null==e[s]&&(e[s]=[]),console.log(e[s],s),t[n]=this.runQuestions[n].correct===this.answers[n],e[s].push(!0===t[n]?1:0)}this.solved=!0,localStorage.setItem("answered",JSON.stringify(e))}}};const B=(0,f.Z)(K,[["render",Q],["__scopeId","data-v-bc493dbc"]]);var J=B;const M=e=>((0,o.dD)("data-v-396f205f"),e=e(),(0,o.Cn)(),e),U={key:0},$={class:"modal modal--history"},E=M((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Otázka"),(0,o._)("th",null,"Celkový počet"),(0,o._)("th",null,"Úspěšnost")])],-1)));function T(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>r.display=!r.display)},(0,w.zw)(r.display?"Schovat":"Zobrazit")+" historii",1),r.display?((0,o.wg)(),(0,o.iD)("div",U,[(0,o._)("table",$,[E,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.allQuestions,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.question},[(0,o._)("td",null,(0,w.zw)(e.question),1),(0,o._)("td",null,(0,w.zw)(e.total),1),(0,o._)("td",{class:(0,w.C_)({bad:e.percentage>=0&&e.percentage<70})},(0,w.zw)(e.percentage>=0?e.percentage+"%":"Žádný záznam"),3)])))),128))])])])):(0,o.kq)("",!0)],64)}var W={name:"StatsPage",props:{questions:Array},data(){return{display:!1,allQuestions:{},stats:[]}},mounted(){this.refactorData()},watch:{questions(){this.refactorData()},display(){this.refactorData()}},methods:{refactorData(){const e={};for(const s of this.questions)e[s.question]=[];let t=localStorage.getItem("answered");if(null==t)return;t=JSON.parse(t);for(const s in t)e[s]=t[s];console.log(e,this.questions);let n=[];for(const s in e){let t=e[s].length>0?e[s].reduce(((e,t)=>e+t)):0;n.push({question:s,total:e[s].length,correct:t,percentage:this.percentage(t,e[s].length)})}this.allQuestions=n},percentage(e,t){return 0===t?-1:Math.round(e/t*1e4)/100}}};const G=(0,f.Z)(W,[["render",T],["__scopeId","data-v-396f205f"]]);var X=G,ee={name:"App",components:{StatsPage:X,QuizPage:J,FileSelect:p},data(){return{questions:[],loaded:!1}},methods:{loadData(e){this.loaded=!0,this.questions=e}}};const te=(0,f.Z)(ee,[["render",r]]);var ne=te;(0,s.ri)(ne).mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,r){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],r=e[c][2];for(var u=!0,a=0;a<s.length;a++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](s[a])}))?s.splice(a--,1):(u=!1,r<i&&(i=r));if(u){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],u=s[1],a=s[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(a)var c=a(n)}for(t&&t(s);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},s=self["webpackChunkquiz"]=self["webpackChunkquiz"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4581)}));s=n.O(s)})();
//# sourceMappingURL=app.44ff653c.js.map